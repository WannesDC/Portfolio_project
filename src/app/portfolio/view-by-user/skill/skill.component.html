<div *ngIf="showMsg">  
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        <strong>Succesfully Added a skill!</strong>
    
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
  </div>
</div>
<div *ngIf="skill$ | async as skill">
<div class="text-center" *ngIf="skill.length != 0">
    <h3 class="white-text text-white">
      Skills:
    </h3>
    <hr class="hr-light" />
          <div class="container">
            <div class="row">
              <div class="col-md-3 mb-4" *ngFor="let sk of skill$ | async">
                <div class="card h-100 shadow-sm">
                  <img
                    class="card-img"
                    src="{{ sk.iconPath }}"
                    height="200"
                    alt="{{ sk.type }}"
                  />
                  <div class="card-body">
                    <h5 class="card-title">{{ sk.type }}</h5>
                    <p class="card-text">{{ sk.description }}</p>    
                  </div>
                  <div class="d-flex ml-2 mb-2 justify-content-between align-items-center">
                      <div class="btn-group mt-auto">
                        
                        <a
                        (click)="delete(sk.id)"
                        class=" btn btn-sm btn-outline-warning"
                        >delete</a
                      >
                      </div>
                      
                    </div>

                </div>
              </div>
            </div>
          </div>
      </div>
</div>

<div class="text-center">
    <h3 class="white-text text-white">
      Add Skill:
    </h3>
    <hr class="hr-light" />
</div>
<form class="col-md-6 mx-auto" [formGroup]="skill" (ngSubmit)="onSubmit()">
  <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text" id="basic-addon1">
        <mat-icon>build</mat-icon>
      </span>
    </div>
    <input
      type="text"
      class="form-control mr-sm-2"
      placeholder="Skill"
      aria-label="Type"
      aria-describedby="basic-addon1"
      formControlName="type"
      [ngClass]="fieldClass('type')"
    />
    <div class="invalid-feedback" *ngIf="isValid('type')">
        Skill {{ getErrorMessage(skill.get("type").errors) }}
      </div>
  </div>

  <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text" id="basic-addon1">
        <mat-icon>description</mat-icon>
      </span>
    </div>
    <textarea
      class="form-control mr-sm-2"
      rows="5"
      id="comment"
      placeholder="What is this skill about, How well do you know this skill..."
      aria-label="description"
      aria-describedby="basic-addon1"
      formControlName="description"
      [ngClass]="fieldClass('description')"
    ></textarea>
    <div class="invalid-feedback" *ngIf="isValid('description')">
        description {{ getErrorMessage(skill.get("description").errors) }}
      </div>
  </div>

  <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text" id="basic-addon1">
        <mat-icon>add_a_photo</mat-icon>
      </span>
    </div>
    <input
      type="url"
      class="form-control mr-sm-2"
      placeholder="image"
      aria-label="image"
      aria-describedby="basic-addon1"
      formControlName="iconPath"
      [ngClass]="fieldClass('iconPath')"
    />
  </div>
  <div class="invalid-feedback" *ngIf="isValid('iconPath')">
      image {{ getErrorMessage(skill.get("iconPath").errors) }}
    </div>

  <div class="mt-auto">
    <button type="submit" class="btn btn-outline-light " [disabled]="skill.invalid">Add Skill</button>
  </div>
</form>
